{"version":3,"sources":["mouse-speed.tsx","Coin.tsx","CoinZone.tsx","Go.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["baseOptions","MouseSpeed","onUpdate","speedX","speedY","oldX","oldY","isFirstCalculation","timerId","lastUpdate","clearInterval","bindClearInterval","window","setInterval","Date","now","clear","isPaused","update","e","clientX","clientY","this","undefined","addEventListener","removeEventListener","Coin","React","useState","isAnimating","setIsAnimating","className","onMouseOver","setTimeout","src","alt","pow","Math","sqrt","CoinZone","bezos","playingRef","useRef","useEffect","mouz","debounce","velocity","current","playbackRate","rate","x","nextRate","playbackScale","play","leading","maxWait","init","Array","map","_","i","Go","props","type","BEZOS_URL","Audio","controls","loop","App","isGoTime","setGoTime","isCanPlay","setIsCanPlay","event","readyState","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee335253.chunk.js","sourcesContent":["type OnUpdate = (opts: { isPaused?: boolean }) => void;\nconst baseOptions = {};\n\nexport default class MouseSpeed {\n  public speedX: number;\n  public speedY: number;\n  public oldX: number;\n  public oldY: number;\n  public isFirstCalculation: boolean;\n  public timerId: number | undefined;\n  public onUpdate: OnUpdate;\n  public lastUpdate: number;\n  public clearInterval: number | null;\n\n  constructor(onUpdate: OnUpdate) {\n    this.speedX = 0;\n    this.speedY = 0;\n    this.oldX = 0;\n    this.oldY = 0;\n    this.isFirstCalculation = true;\n    this.timerId = undefined;\n    this.onUpdate = onUpdate;\n    this.lastUpdate = Date.now();\n    this.clearInterval = null;\n  }\n\n  bindClearInterval = () => {\n    this.clearInterval = window.setInterval(() => {\n      const duration = Date.now() - this.lastUpdate;\n      if (duration < 400) return;\n      this.clear();\n      this.onUpdate({ isPaused: true });\n      window.clearInterval(this.clearInterval!);\n      this.clearInterval = null;\n    }, 1000);\n  };\n\n  update = (e: MouseEvent) => {\n    const now = Date.now();\n    if (!this.clearInterval) this.bindClearInterval();\n    if (!this.isFirstCalculation) {\n      this.speedX = e.clientX - this.oldX;\n      this.speedY = e.clientY - this.oldY;\n      this.oldX = e.clientX;\n      this.oldY = e.clientY;\n      this.onUpdate(baseOptions);\n      this.clear();\n    } else {\n      this.oldX = e.clientX;\n      this.oldY = e.clientY;\n      this.isFirstCalculation = false;\n    }\n    this.lastUpdate = now;\n  };\n\n  clear() {\n    this.speedX = 0;\n    this.speedY = 0;\n    this.onUpdate({});\n  }\n\n  init() {\n    window.addEventListener(\"mousemove\", this.update);\n  }\n\n  destroy() {\n    window.removeEventListener(\"mousemove\", this.update);\n  }\n}\n","import React from \"react\";\nimport \"./Coin.css\";\n\n/*\n    <div\n     \n className={`coin ${isAnimating ? \"coin-spin\" : \"\"}`}\n    >\n      \n      \n    </div>\n\n*/\nexport default function Coin() {\n  const [isAnimating, setIsAnimating] = React.useState(false);\n  return (\n    <div\n      className=\"scene scene--card\"\n      onMouseOver={() => {\n        if (isAnimating) return;\n        setIsAnimating(true);\n        setTimeout(() => setIsAnimating(false), 1000);\n      }}\n    >\n      <div className={`card ${isAnimating ? \"is-flipped\" : \"\"}`}>\n        <div className=\"card__face card__face--front\">\n          <img src=\"coin.png\" alt=\"coin\" />\n        </div>\n        <div className=\"card__face card__face--back\">\n          <img src=\"bezos.png\" alt=\"bezos\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MouseSpeed from \"./mouse-speed\";\nimport Coin from \"./Coin\";\nimport { debounce } from \"lodash\";\n\nconst { pow, sqrt } = Math;\nconst playbackScale = (x: number) => {\n  if (x >= 50) x = 50;\n  let nextRate = 2 * (x / 50);\n  if (nextRate < 0.25) nextRate = 0.25;\n  return nextRate;\n};\n\nexport default function CoinZone({ bezos }: { bezos: HTMLAudioElement }) {\n  const playingRef = React.useRef(false);\n  React.useEffect(() => {\n    const mouz = new MouseSpeed(\n      debounce(\n        ({ isPaused }) => {\n          const { speedX, speedY } = mouz;\n          const velocity = sqrt(pow(speedX, 2) + pow(speedY, 2));\n          if (isPaused) {\n            playingRef.current = false;\n            bezos.playbackRate = 0;\n          } else {\n            if (!velocity) return;\n            const rate = playbackScale(velocity);\n            if (!playingRef.current) bezos.play();\n            bezos.playbackRate = rate;\n          }\n        },\n        20,\n        { leading: true, maxWait: 100 }\n      )\n    );\n    mouz.init();\n  }, [bezos]);\n  return (\n    <>\n      {[...new Array(10 * 10)].map((_, i) => (\n        <Coin key={i} />\n      ))}\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./Go.css\";\n\nexport default function Go(props: React.HTMLProps<HTMLButtonElement>) {\n  const type: \"button\" = \"button\";\n  return (\n    <div className=\"go\">\n      <div>\n        <button {...props} type={type}>\n          Click to profit!\n        </button>\n        <p>\n          Use your mouse to control\n          <br /> playback speed :)\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport CoinZone from \"./CoinZone\";\nimport Go from \"./Go\";\n\nconst BEZOS_URL = \"bezos.mp3\";\nconst bezos = new Audio(BEZOS_URL);\nbezos.controls = true;\nbezos.loop = true;\nbezos.src = BEZOS_URL;\n\nfunction App() {\n  const [isGoTime, setGoTime] = React.useState(false);\n  const [isCanPlay, setIsCanPlay] = React.useState(false);\n  bezos.addEventListener(\"canplay\", (event) => setIsCanPlay(true));\n  // React.useEffect(() => {\n  //   document.body.appendChild(bezos);\n  //   (window as any).bezos = bezos;\n  // }, []);\n  return (\n    <div className=\"App\">\n      {isGoTime ? (\n        isCanPlay ? (\n          <CoinZone bezos={bezos} />\n        ) : (\n          <span>loading {bezos.readyState} </span>\n        )\n      ) : (\n        <Go onClick={() => setGoTime(true)} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}